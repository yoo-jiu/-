import streamlit as st

# Streamlit MBTI -> Career 추천 앱
# 추가 라이브러리 필요 없음 (Streamlit만 사용)

st.set_page_config(page_title="MBTI 진로 추천 💫", page_icon="🧭")

st.title("MBTI 진로 추천 서비스 — 너에게 딱 맞는 진로 골라줄게! 😄")
st.write("아래에서 너의 MBTI를 골라줘. 각 유형별로 **진로 2가지**와 `어떤 학과가 적합한지`, `어떤 성격이 잘 맞는지`를 친근한 말투로 알려줄게. ✨")

MBTI_TYPES = [
    "ISTJ", "ISFJ", "INFJ", "INTJ",
    "ISTP", "ISFP", "INFP", "INTP",
    "ESTP", "ESFP", "ENFP", "ENTP",
    "ESTJ", "ESFJ", "ENFJ", "ENTJ",
]

# 각 MBTI별 추천 진로 데이터 (진로명: (적합 학과 리스트, 잘 맞는 성격 설명))
RECOMMENDATIONS = {
    "ISTJ": [
        ("회계/세무 전문가", ["경영학과(회계)", "세무학과", "경영학부"], "체계적이고 성실한 사람, 규칙과 계획을 잘 지키는 타입이에요. 📚"),
        ("행정/공무원", ["행정학과", "정치외교학과", "경영학과"], "규칙을 존중하고 안정적인 환경에서 집중 잘하는 사람에게 딱! 🏛️"),
    ],
    "ISFJ": [
        ("간호/보건", ["간호학과", "보건학과", "임상병리학과"], "세심하고 남 돌보는 걸 좋아하는 사람, 책임감 강해요. 💉💗"),
        ("교육(초등/특수)", ["교육학과", "특수교육학과"], "차분하고 남을 배려하는 성향이라 교육에 잘 맞아요. 🍎"),
    ],
    "INFJ": [
        ("상담심리/임상심리", ["심리학과", "상담심리학과"], "사람의 마음을 깊이 이해하고 도와주길 좋아하는 사람. 🧠💬"),
        ("콘텐츠 기획/예술·문학", ["문예창작학과", "미디어학과", "예술학과"], "감성적이고 비전이 있는 아이디어를 내는 타입이에요. 🎨✨"),
    ],
    "INTJ": [
        ("연구개발(R&D)", ["화학공학과", "전기/전자공학과", "생명과학과"], "전략적이고 계획 잘 세우는 혁신가 스타일. 🔬📈"),
        ("데이터 사이언티스트", ["통계학과", "컴퓨터공학과", "수학과"], "논리적 분석과 문제해결을 즐기는 사람에게 추천! 🧮"),
    ],
    "ISTP": [
        ("기계/설계 엔지니어", ["기계공학과", "산업디자인학과"], "도구 다루기 좋아하고 손으로 직접 해보는 걸 즐기는 실용주의자. 🛠️"),
        ("IT 개발자(백엔드/임베디드)", ["컴퓨터공학과", "전자공학과"], "문제 해결을 현장에서 직접 테스트하는 걸 좋아하는 타입. 💻"),
    ],
    "ISFP": [
        ("시각디자인/패션", ["디자인학과", "패션학과"], "감성적이고 미적 감각이 뛰어난 아티스트형. 🎨👗"),
        ("음악/공연예술", ["음악학과", "공연예술학과"], "표현을 통해 감정을 전달하는 일을 좋아해요. 🎵"),
    ],
    "INFP": [
        ("문학/창작", ["문예창작학과", "국어국문학과"], "내면이 풍부하고 스토리텔링에 강한 감성가. ✍️📖"),
        ("상담/사회복지", ["사회복지학과", "상담심리학과"], "사람을 돕고 의미 있는 일에 헌신하는 타입이에요. 🤝💚"),
    ],
    "INTP": [
        ("연구자/학자", ["물리학과", "수학과", "컴퓨터과학과"], "호기심 많고 이론 탐구를 즐기는 지적 탐험가. 🔎📘"),
        ("소프트웨어 아키텍트", ["컴퓨터공학과", "소프트웨어학과"], "복잡한 구조를 설계하고 문제를 추상화하는 걸 좋아함. 🧩"),
    ],
    "ESTP": [
        ("영업/마케팅", ["경영학과", "광고홍보학과"], "활동적이고 사람 만나는 걸 좋아하는 행동파. 💬📢"),
        ("현장 운영/구조대", ["소방안전학과", "응급구조학과"], "즉각적인 판단과 행동력이 뛰어난 타입. 🚨"),
    ],
    "ESFP": [
        ("연예/퍼포먼스", ["공연예술학과", "무대미술학과"], "사람 앞에서 빛나길 좋아하는 에너지맨/우먼! ✨🎤"),
        ("서비스/호스피탈리티", ["호텔경영학과", "관광학과"], "친절하고 분위기 만드는 걸 잘함. 🏨🌟"),
    ],
    "ENFP": [
        ("창업/스타트업", ["경영학과", "창업학과", "산업디자인학과"], "아이디어가 넘치고 사람들과 비전을 공유하는 걸 좋아함. 🚀"),
        ("콘텐츠 크리에이터/마케터", ["미디어학과", "광고홍보학과"], "창의적이고 활발한 소통형이에요. 🎥📝"),
    ],
    "ENTP": [
        ("전략 컨설팅", ["경영학과", "경제학과"], "논쟁을 즐기고 새로운 기회를 찾아내는 발명가 스타일. 🧠⚡"),
        ("제품 기획/프로덕트 매니저", ["경영학과", "컴퓨터공학과", "디자인학과"], "아이디어를 빠르게 실행에 옮기고 조율하는 역할에 적합해요. 📦"),
    ],
    "ESTJ": [
        ("경영/관리자", ["경영학과", "회계학과"], "리더십 있고 조직 관리에 능한 실무형 리더. 🏢"),
        ("법조/검찰·판사", ["법학과"], "규칙과 절차를 중시하고 책임감이 강한 타입. ⚖️"),
    ],
    "ESFJ": [
        ("교육/교사", ["교육학과", "유아교육학과"], "사람 돌보는 걸 좋아하고 협력 잘하는 따뜻한 타입. 👩‍🏫🤝"),
        ("간호/의료지원", ["간호학과", "보건행정학과"], "세심하고 사람 중심의 돌봄에 적합해요. 🩺"),
    ],
    "ENFJ": [
        ("HR/인사", ["경영학과", "심리학과"], "사람의 성장을 돕고 이끌어줄 수 있는 카리스마형. 🌱✨"),
        ("공익/NGO 리더", ["사회복지학과", "국제학과"], "비전 제시와 사람 모으는 능력이 뛰어나요. 🌍🤝"),
    ],
    "ENTJ": [
        ("기업 경영(CEO)", ["경영학과", "경제학과"], "목표 지향적이고 결과를 이끌어내는 리더십 강한 타입. 🦁"),
        ("전략기획/컨설팅", ["경영학과", "경제학과"], "큰 그림 보고 조직을 움직이는 역할에 딱 맞아요. 📊"),
    ],
}

# 사용자 입력
selected = st.selectbox("너의 MBTI를 골라줘", MBTI_TYPES)

if st.button("추천 받기 🔎"):
    st.markdown(f"### {selected} 유형을 위한 추천 진로 🎯")

    recs = RECOMMENDATIONS.get(selected)
    if not recs:
        st.write("앗, 아직 준비되지 않은 유형이야... 😅")
    else:
        for idx, (career, majors, personality) in enumerate(recs, start=1):
            with st.expander(f"{idx}. {career} ✨", expanded=True if idx==1 else False):
                st.write(f"**어떤 학과가 적합할까?**")
                for m in majors:
                    st.write(f"- {m}")
                st.write("\n**어떤 성격이 잘 맞을까?**")
                st.write(personality)
                # 한 줄 팁
                st.info("팁: 관심 있는 분야의 동아리나 체험활동을 해보면 적성 찾는 데 진짜 도움돼요! 👍")

    st.markdown("---")
    st.write("마음에 드는 진로가 있으면 구체적으로 학과별 커리큘럼이나 진로 로드맵도 만들어줄게. 원하면 알려줘~ 😎")

# 하단에 작은 저작권/설명
st.caption("이 앱은 진로 선택 참고용이에요. 개인 차이가 크니 여러 활동으로 직접 체험해보는 걸 추천합니다!")
